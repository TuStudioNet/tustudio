<script>
    function write(msg)
    {
        document.write("<p>");
        document.write(msg);
        document.write("</p>")
    };
    let jsonstr;
    let json1;
    let json2;
    let httpRequest1 = new XMLHttpRequest();
    httpRequest1.open('GET', 'https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=nowConfirmStatis,provinceCompare', true);
    httpRequest1.send();
    httpRequest1.onreadystatechange=function()
    {
        if(httpRequest1.readyState==4&&httpRequest1.status==200)
        {
            jsonstr=httpRequest1.responseText;
            json1=eval("(" + jsonstr + ")");
        };
    };
    httpRequest2 = new XMLHttpRequest();
    httpRequest2.open('GET', 'https://v0.yiketianqi.com/api?unescape=1&version=v91&appid=43656176&appsecret=I42og6Lm&ext=&cityid=101040100&city=101040700', true);
    httpRequest2.send();
    httpRequest2.onreadystatechange=function()
    {
        if(httpRequest2.readyState==4&&httpRequest2.status==200)
        {
            jsonstr=httpRequest2.responseText;
            json2=eval("(" + jsonstr + ")");
            write("喵呜日报");
            let date=new Date();
            write(date.getFullYear()+"年"+(date.getMonth()+1)+"月"+date.getDate()+"日 "+json2.data[0].week);
            write("--------------------");
            write("今日重庆新冠病毒已确诊"+json1.data.provinceCompare.重庆.nowConfirm+"人");
            write("今日 "+json2.data[0].wea+" 温度"+json2.data[0].tem1+"°至"+json2.data[0].tem2+"° 空气"+json2.data[0].air_level+" 降雨率"+json2.data[0].rain+"%");
            write("明日 "+json2.data[1].wea+" 温度"+json2.data[1].tem1+"°至"+json2.data[1].tem2+"° 空气"+json2.data[1].air_level+" 降雨率"+json2.data[1].rain+"%");
        };
    };
    

    "https://v0.yiketianqi.com/api?unescape=1&version=v91&appid=43656176&appsecret=I42og6Lm&ext=&cityid=101040100&city=101040700"
</script>
